generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
model inm_real_estate{
  id                         Int                          @id @default(autoincrement())
  email                      String                       @unique @db.VarChar(150)
  password                   String                       @db.VarChar(128)
}
model inm_user {
  id                         Int                          @id @default(autoincrement())
  email                      String                       @unique @db.VarChar(150)
  first_name                 String                       @db.VarChar(40)
  last_name                  String                       @db.VarChar(40)
  owner                      inm_owner[]
  client                     inm_client[]
}

model inm_owner{
  id                         Int                          @id @default(autoincrement())
  id_user                    Int                          @unique
  user                       inm_user                     @relation(fields: [id_user], references: [id])
  estates                    inm_estate[]
}

model inm_client{
  id                         Int                          @id @default(autoincrement())
  id_user                    Int                          @unique
  user                       inm_user                     @relation(fields: [id_user], references: [id])
  billing                    inm_billing[]
  estate                     inm_estate[]
}

model inm_billing{
  id                         Int                          @id @default(autoincrement())
  id_client                  Int                          @unique
  client                     inm_client                   @relation(fields: [id_client], references: [id])
}

model inm_estate{
  id                         Int                          @id @default(autoincrement())
  address                    String                       @db.VarChar(100)
  type                       estate_type
  price                      Int
  id_owner                   Int
  owner                      inm_owner                    @relation(fields: [id_owner], references: [id])
  id_client                  Int
  client                     inm_client                   @relation(fields: [id_client], references: [id])
}

enum estate_type{
  alquiler
  venta
}